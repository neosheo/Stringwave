{% extends 'base.html' %}

{% block title %}
Your Subscriptions
{% endblock %}

{% block content %}
	<form class="subs-manager" method="POST" action="/pipefeeder/add_sub">
		<h1>Add a channel's URL to subscribe</h1>
		<input class="text-box" type="text" name="subscribe">
		<br>
		<center><button class="button" type="submit">Subscribe</button></center>
	</form>
	<br>
	<form class="subs-manager" method="POST" action="/pipefeeder/upload_subs" enctype="multipart/form-data">
		<center><input type="file" id="subs" name="subs"></center>
		<br>
		<center><input class="button" type="submit" value="Upload"></center>
	</form>
	<br><br>
	<a href="/pipefeeder/backup_subs">Backup</a>
	<h1>Channels you've subscribed to:</h1>
	{% if subs %}
		{% for sub in subs %}
			<div>
				<div class="title">
					<form method="POST" action="/pipefeeder/del_sub">
						<h2 class="channel-name">{{ sub['channel_name'] }}</h2>
						<center><img src="{{ sub['channel_icon'] }}" alt="{{ sub['channel_name'] }}" width="200" height="200"></center>
						<center><button class="button" type="submit" name="unsubscribe" value="{{ sub['channel_id'] }}">Unsubscribe</button></center>
						<br>
					</form>
				</div>
			</div>
			<br>
		{% endfor %}
	{% else %}
		<h2>No subs to display</h2>
	{% endif %}
{% endblock %}